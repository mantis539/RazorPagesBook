Дата: 25 грудня 2025 року

Статус: Прийнято

Контекст
На початковому етапі розробки проєкту RazorPagesBook необхідно було визначити архітектурний підхід: побудова системи як єдиного цілого (Моноліт) чи розділення її на незалежні сервіси (Мікросервіси).

Система включає три ключові домени:

Користувачі (Автентифікація та ролі).

Каталог (Управління книгами).

Взаємодія (Відгуки та зворотний зв'язок).

Розглянуті варіанти
1. Мікросервісна архітектура
Плюси: Незалежне розгортання частин системи, масштабованість.

Мінуси: Висока складність налаштування зв'язків між сервісами, необхідність керування декількома базами даних, складність відладки (distributed tracing).

2. Модульний моноліт
Плюси: Простота розробки та розгортання (один проєкт, одна БД), висока продуктивність за рахунок внутрішньопроцесних викликів, легкість підтримки цілісності даних.

Мінуси: З часом код може стати заплутаним ("Big Ball of Mud"), якщо не дотримуватися чіткої структури папок та просторів імен.

Прийняте рішення
Ми обираємо стиль Модульного моноліту.

Це означає, що весь код знаходиться в одному застосунку ASP.NET Core, але логічно розділений на модулі за допомогою папок та Namespaces:

Pages/Admin/ — модуль адміністрування.

Models/ — спільні сутності.

Identity/ — модуль безпеки.

Обґрунтування
Розмір команди та масштаб: Для навчального проєкту мікросервіси створять надлишкову складність (Overengineering), яка сповільнить розробку.

Цілісність даних: Відгуки (Reviews) жорстко пов'язані з книгами (Books) через Foreign Keys. У моноліті це реалізується стандартними засобами EF Core без потреби в складних механізмах синхронізації (як Saga або Inbox pattern).

Швидкість ітерацій: Локальна розробка та тестування відбуваються значно швидше в межах одного Solution.

Наслідки
Позитивні: Проста структура проєкту, легка міграція бази даних, швидкий запуск через Visual Studio.

Ризики: Необхідно суворо стежити за тим, щоб піддомени не мали занадто сильної взаємозалежності в коді. Якщо в майбутньому навантаження на систему відгуків зросте, ми зможемо винести її в окремий мікросервіс, оскільки логіка вже розділена на рівні доменів.
